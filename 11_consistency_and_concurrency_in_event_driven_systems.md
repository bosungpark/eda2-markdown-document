Eventual Consistency
=

시퀀셜한 실행을 통한 강한 일관성을 보장하는 방법으로는 하나의 데이터베이스를 공유하는 방법이 있다. 하지만 MSA에서 이러한 방식은 서비스가 많아질 수록 스케일링이 어려워진다.

이벤트 드리븐 시스템은 조금 다른 접근을 취한다. 비동기 브로드 캐스팅을 통해 글로벌하게 공유되는 상태를 막고, 동기적 접근을 피한다. 이러한 시스템은 종종  Eventual Consistency한 상태라고 불린다.

Eventual Consistency는 두 가지 맥락을 가진다.

1. Timeliness(적시성)
2. Collisions(충돌)

The Single Writer Priciple
=
도메인간의 책임관계를 명확히 하는 것. 적시성을 파하고, 충돌을 피하는 테크닉.

트랜잭션의 원자성
=
카프카는 두가지를 보장해준다.
- all or nothing: 다른 토픽에 보내진 메시지는 전부 기록되거나 하나도 기록되지 않는다.
- 하나의 토픽에 전달된 메시지는 비록 실패한다 해도 중복되지 않는다.


Identity and Concurrency Control
=
객체들을 아이디를 가지고 있고, 만약 객체가 mutable하다면 버저닝 등을 통해 구분한다.

버전은 동시성 제어를 위해서도 활용된다. -> 낙관적 락의 예시


